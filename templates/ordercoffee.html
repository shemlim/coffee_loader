<!DOCTYPE html>


{% block content %}

<!-- Laman utk VIEW template, refer ke flask modul utk halaman html -->

<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="{{ url_for('static', filename='javascript/sweetalert.min.js') }}"></script>
    <style>
        
        #myBtn {
        
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;
        border: none;
        outline: none;
        background-color: red;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
        }
        
        #myBtn:hover {
        background-color: #555;
        }
    </style>
    <title>Coffee is Love, Coffee is Live</title>
    </head>


    <body>
        <!-- <b><h1>Hi table {{ name }}</h1></b> -->
        <b><h2 style="text-align:center">Menu Coffee TJC PJ</h2></b>
        <hr>
        <!-- <img src= "{{ img_url }}" alt="Latte" height="700" width="1500"> -->
        
        <!-- To add another menu -->
        {% for x,y in menu_dict.items() %}
            {% set min_btn = x + "_btn_m" %}
            {% set plus_btn = x + "_btn" %}


            <table>
                <!-- To add another menu -->
                <tr>
                    <td><h1 style="font-family: 'Brush Script MT', cursive;font-size: 3em;">{{ x }}</h1></td>
                </tr>
                <tr>
                    <td><img src= "{{ y['image'] }}" alt="Mocca" height="200" width="250"></td>
                    <td>
                        <button type="button" class="btn btn-default btn-number" id="{{min_btn}}" onclick="minusCounter(this.id)" disabled="disabled" data-type="minus" data-field="quant[1]">
                            <span name="minus">&#8722;</span>
                        </button>
                        <input type="number" class="count" id="{{ x }}" value="0" style="width: 2em" disabled="disabled">
                        <button type="button" class="btn btn-default btn-number" id="{{plus_btn}}" onclick="addCounter(this.id)"
                                data-type="minus" data-field="quant[1]">
                            <span name="plus">&#43;</span>
                        </button>
                    </td>
                </tr>
                <!-- To add another menu -->
            </table>
            <hr>
            
        {% endfor %}
        
        <input type="hidden" id="all_input" value="{{ ','.join(list(menu_dict.keys())) }}">
        <button onclick="submitFunc()" id="myBtn" title="Go to top">Submit</button>


        {% block javascript %}
            <script>
                

                function submitFunc(){
                    hidden_value = document.getElementById("all_input").value
                    hidden_value = hidden_value.split(",")
                    text = '';
                    for (let i = 0; i < hidden_value.length; i++) {
                        
                        text += hidden_value[i] + ":" + document.getElementById(hidden_value[i]).value + ",";
                    }
                    swal({
                        title: "Are you already checked the order twice?",
                        text: "Once ordered, you can not change it anymore!\n" + text,
                        icon: "warning",
                        buttons: true,
                        dangerMode: true,
                        })
                        .then((willDelete) => {
                        if (willDelete) {
                            swal("Your coffee order has been listed!", {
                            icon: "success",
                            });
                        } 
                        });
                }
                
                function addCounter(btn_id) {
                    id = btn_id.split("_")[0]
                    counter_val = parseInt(document.getElementById(id).value)
                    if (counter_val + 1 > 0){
                        document.getElementById(btn_id+"_m").disabled = false
                    }
                    document.getElementById(id).value = counter_val + 1
                }

                function minusCounter(btn_id) {
                    id = btn_id.split("_")[0]
                    counter_val = parseInt(document.getElementById(id).value)
                    if (counter_val - 1 == 0){
                        document.getElementById(id).value = counter_val - 1
                        document.getElementById(btn_id).disabled = true;
                    }
                    else{
                        document.getElementById(id).value = counter_val - 1
                        document.getElementById(btn_id).disabled = false;
                    }
                }
                
            </script>

        {% endblock %}

        


    </body>
    

</html>

{% endblock %}